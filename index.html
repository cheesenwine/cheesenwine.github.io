<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cheese N Wine</title>

    <link rel="stylesheet" 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Codystar&family=Lobster+Two:wght@700&display=swap" rel="stylesheet">

    <style>
        .title {
            font-family: 'Lobster Two', cursive;
            text-align: center;
            color: white;
            padding-left: 12px;
            font-size: 1.4em;
        }
        #footer {
            font-size: 0.7em;
            text-align: center;
            padding-top: 12px;
        }
    </style>

    <script type='text/javascript'>
        var map

        function GetMap() {
            
            map = new Microsoft.Maps.Map('#myMap', {});

            map.setView({
                // mapTypeId: Microsoft.Maps.MapTypeId.aerial,
                center: new Microsoft.Maps.Location(38.597021, 22.319500),
                zoom: 7,
            });

            infobox = new Microsoft.Maps.Infobox(map.getCenter(), {
                width :400, 
                height :400,
                visible: false
            });
            //Assign the infobox to a map instance.
            infobox.setMap(map);

            var urls = [
                'http://www.alea-sa.gr/?page_id=110&lang=en',
                'https://www.stremenos.com/en',
                'https://vakakiswines.gr/en/products/pythagorean-theorem/',
            ]

            var pinData = [
                ['1', 'Kalamata Olives', 37.038098, 22.103840, 'kalamata.jpg', 'http://www.alea-sa.gr/?page_id=110&lang=en'],
                ['2', 'Cold Cut Products', 38.747823, 21.639582, 'coldcut.jpg', 'https://www.stremenos.com/en'],
                ['3', 'Rouge Wine', 37.790651, 26.701226, 'vakakis.jpg', 'https://vakakiswines.gr/en/products/pythagorean-pyramid/'],
                ['4', 'San Michalis', 37.487451, 24.920686, 'sanmichali.jpg', 'https://www.blisspoint.gr/en/product/san-michali-cheese-pdo/'],
                ['5', 'Feta Cheese', 38.031070, 22.110580, 'feta.jpg', 'https://www.greekgastronomyguide.gr/en/geuseis/ouzomezedes/feta-kalavryton-mezes/'],
                ['6', 'Goat Cheese', 39.770180, 21.182590, 'metsovisio.jpg', 'https://cheese-wines.gr/en/product/metsovisio-goat-cheese-of-the-tositsa/'],
                ['7', 'Ladotyri', 39.210000, 26.280000, 'ladotyri.jpg', 'https://www.tasteatlas.com/ladotyri-mytilinis'],
                ['8', 'Graviera', 35.514980, 24.023400, 'graviera.jpg', 'https://www.tasteatlas.com/graviera-kritis'],             
                ['9', 'Krana Sauce', 40.503569, 22.207592, 'krana.jpg', 'https://en.wikipedia.org/wiki/Cornus_mas'],              
                ['10', 'Pear Sauce', 39.738850, 22.288190, 'pear.jpg', 'https://www.tirnavosfruit.gr/index.php?lang=en'], 
                ['11', 'Aubergine Salad', 40.315349, 24.005230, 'aubergine.jpg', 'https://www.tasteatlas.com/melitzanosalata'],           
                ['12', 'Dried Apricots', 40.416875, 23.355126, 'apricots.jpg', 'http://www.sunfruits.gr/en/our-products/apricots/'],        
                ['13', 'Dried Figs', 38.948355, 23.151876, 'figs.jpg', 'https://greekfigs.gr/en/home/'],    
                ['14', 'Pistachios', 37.744616, 23.432808, 'pistachios.jpg', 'https://www.greekgastronomyguide.gr/en/item/fistiki-aigina/'],     
                ['15', 'Î’readsticks', 40.498577, 21.224865, 'breadsticks.jpg', 'https://tsanos.gr/en/proion/breadsticks-with-beetroot-2/'],
                ['16', 'Rosemary Toast', 37.597310, 26.189959, 'toast.jpg', 'https://ikarianature.com/rosemary-rosmarinus-officinalis/'],                
                ['17', 'Raisin Crackers', 37.927900, 22.926472, 'crackers.jpg', 'https://www.greekgastronomyguide.gr/en/item/korinthiaki-stafida-aigialeia-korinthia/'],                
                ['18', 'White Wine', 39.342335, 21.758949, 'white.jpg', 'https://winerymonsieurnicolas.gr/en/wines/14'],    
                ['19', 'Sugar-Cane Plates', 41.124927, 24.915185, 'plate.jpg', 'https://tesserabioproducts.gr/en/product/sugarcane-plate-o-23-cm-round/'],
            ]
            var pins = []

            for(let i = 0; i < pinData.length; i++) {
                let item = pinData[i];
                let pos = new Microsoft.Maps.Location(item[2], item[3]);
                let pin = new Microsoft.Maps.Pushpin(pos, {
                    title: item[1],
                    text: item[0],
                    color: 'blue'
                });
                pin.metadata = {
                    title: item[1],
                    description: '<div><a href="' + item[5] + '" target="_blank">' +
                        '<img src="' + item[4] + '" /></a></div>'
                };
                map.entities.push(pin);
                Microsoft.Maps.Events.addHandler(pin, 'click', pinClicked);
                pins.push(pin);
            }

            //Add the pushpin to the map
            map.entities.push(pin_kalamata);
            map.entities.push(pin_coldcut);
            map.entities.push(pin_vakakis);

            Microsoft.Maps.Events.addHandler(pin_kalamata, 'click', pinClicked);
            Microsoft.Maps.Events.addHandler(pin_coldcut, 'click', pinClicked);
            Microsoft.Maps.Events.addHandler(pin_vakakis, 'click', pinClicked);
        
        }

        function pinClicked(e) {
            console.log(e.target.getLocation())
            if (e.target.metadata) {
                //Set the infobox options with the metadata of the pushpin.
                infobox.setOptions({
                    maxWidth :400, 
                    maxHeight :400,
                    offset: new Microsoft.Maps.Point(10,0), 
                    location: e.target.getLocation(),
                    title: e.target.metadata.title,
                    description: e.target.metadata.description, 
                    visible: true,
                });
            }
        }
        </script>
        <script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?callback=GetMap&key=AtKaux2oKNpLTtOuIb1poYNs1_kIoGAS9s7-QCLybGSuB8gax8zDd8RxjV4UFyu0' async defer></script>
        <script type='text/javascript' src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <nav class="navbar bg-primary text-white rounded">
            <div class="container-fluid ml-3 pl-3 justify-content-center">
              <span class="navbar-brand mb-0 h1">
                <p class="title text-wrap">
                    A Greek Journey of Wine & Cheese Tastings
                </p>
              </span>
            </div>
          </nav>

        <div class="mt-1 p-1 bg-primary text-white rounded">
        <div id="myMap" style="position:relative;width:100%;height:800px;"></div>
        </div>
        <div id="footer">
            &copy; 2022 - ESC/NYC Coding Society
        </div>
    </div>
</body>
</html>